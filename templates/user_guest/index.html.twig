{% extends 'userbase.html.twig' %}

{% block title %}Guest index{% endblock %}

{% block body %}

<div class="dashboard-center-container">
        <div class="item-border">
            <h2 class="item-title">Guest</h2>
            <div class="item-summery">
                <h3 class="item-count">Participe: {{attendings['attending'] }}</h3>
                <h3 class="item-count">Décliné: {{declines['declined'] }} </h3>
                <h3 class="item-count">En attente de réponse: {{ guestNumber.guestNumber - (attendings['attending'] + declines['declined']) }} </h3>
                <h3 class="item-count">Guests vegans: {{vegans['vegan'] }}</h3>
                <h3 class="item-count">Guests vegeratians: {{vegetarians['vegetarian'] }} </h3>
                <h3 class="item-count">Guests omnivores: {{omnivores['omnivore'] }} </h3>
            </div>
        </div>

        <div class="bkgrnd-block">
            <div class="item-list">
            {% for guest in guests %}
                <div class="item-list-single">
                    <div class="guest-list-single">
                        <p class="item-parag">{{ guest.name }}</p>
                        <p class="item-parag">{{ guest.rdsvp }}</p>
                        <p class="item-parag">{{ guest.phone }}</p>
                    </div>
                    <div class="action-buttons">
                        <p><a href="#"><i class="fa-solid fa-pen"></i></a>
                        <p>{{ include('user_guest/_delete_form.html.twig') }}</p>
                    </div>
                </div>
                {% else %}
            
                <p>no records found</p>
            
        {% endfor %}
            </div>
        </div>
        <a href="#" class="modal btn btn-item">Add guest</a>
</div>

    {# <div class="overlay "> #}

        <div class="dashboard-center-container">
            <h3 class="dashboard-tertiary dashboard-tertiary-center">guest-list</h3>
            <div class="bkgrnd-block-itemform">
                <div class="icon-close">
                    <i class="close fa-solid fa-xmark"></i>
                </div>
                <form action="/action_page.php" class="item-form">
                {{ form_start(form, {'attr': {'class': 'item-form'}}) }}
                
                {{ form_row(form.name) }}
                {{ form_row(form.rdsvp) }}
                {{ form_row(form.address) }}
                {{ form_row(form.email) }}
                {{ form_row(form.phone) }}
                {{ form_row(form.email) }}
                {{ form_row(form.diet) }}
                {{ form_row(form.tabletab) }}
                {# <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ guest.id) }}"> #}

        <div class="items-actions">
            <button class="item-button-i btn-save">{{ button_label|default('Save') }}</button>
        </div>
{{ form_end(form) }}

                  
            </div>
        </div>
    {# </div> #}

    
{% endblock %}

{# <a href="{{ path('app_user_guest_new') }}">Create new</a> #}
{# <a href="{{ path('app_user_guest_show', {'id': guest.id}) }}">show</a>
<a href="{{ path('app_user_guest_edit', {'id': guest.id}) }}">edit</a> #}
{# <input type="submit" class="item-button-i btn-effacer" value="Effacer"> #}

